<ion-header mode="ios">
  <ion-toolbar mode="md">
    <ion-buttons slot="start" (click)="close()">
      <ion-back-button defaultHref="{{'/select-products/'+id}}"></ion-back-button>
    </ion-buttons>
    <ion-title>{{"Filter" | translate}}</ion-title>
    <ion-buttons slot="end" (click)="reset()">
      <ion-button>{{"Reset" | translate}}</ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>
<ion-content>
  <ion-list>
    <ion-list-header>
        <ion-label>{{"Price" | translate}}</ion-label>
    </ion-list-header>
    <ion-item lines="none">
        <ion-range dualKnobs="true" value="{{price}}" min="0" max="{{settings.settings?.max_price}}" [(ngModel)]="price" name="price" color="{{settings.theme.button}}">
            <ion-label slot="start">{{price.lower}}</ion-label>
            <ion-label slot="end">{{price.upper}}</ion-label>
        </ion-range>
    </ion-item> 
  </ion-list>      
    <div *ngIf="attributes">
      <div *ngFor="let attribute of attributes | keys">
          <div *ngIf="attribute.value.terms.length">
              <ion-list-header>
                  <ion-label>{{attribute.value.name}}</ion-label>
              </ion-list-header>
              <ion-list>
                <ion-item *ngFor="let term of attribute.value.terms" lines="none">
                  <ion-label>{{term.name}} </ion-label>
                  <ion-checkbox [(ngModel)]="term.selected"> </ion-checkbox>
                </ion-item>
              </ion-list>  
          </div>
      </div>
    </div>
</ion-content>
<ion-footer>
  <ion-toolbar>
  <ion-button class="submit-button" expand="full" color="{{settings.theme.button}}" (click)="applyFilter()">{{"Apply" | translate}}</ion-button>
  </ion-toolbar>
</ion-footer>
